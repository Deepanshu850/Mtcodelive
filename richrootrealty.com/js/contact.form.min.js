$(document).ready(function () {
  $("#contact").on("submit", function (e) {
    e.preventDefault();

    var number = $("#number").val();
    if (number.length !== 10 || isNaN(number)) {
      $("#number").next("span").text("Phone number must be 10 digits").show();
      return;
    }

    $.ajax({
      url: "./php/process.php",
      type: "POST",
      data: $(this).serialize(),
      success: function (response) {
        console.log("AJAX success:", response);
        // Hide form inputs and display success message
        $("#form-overlay").show();
        $(".form-content").css("opacity", "0.3");
        $("#contact").find("input, textarea, button").prop("disabled", true);
      },
      error: function (xhr, status, error) {
        console.error("AJAX error:", status, error);
        Swal.fire({
          title: "Error!",
          text: "There was an error submitting your form.",
          icon: "error",
          confirmButtonText: "OK",
        });
      },
    });
  });
});
